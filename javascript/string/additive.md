# 加性操作符

加法和减法这两个加性操作符应该说是编程语言中最简单的算术操作符了。但是在 ECMAScript 中，这两个操作符却都有一系列的特殊行为。与乘性操作符
类似，加性操作符也会在后台转换不同的数据类型。然而，对于加性操作符而言，相应的转换规则还稍微有点复杂。

## 1 加法

加法操作符 (+) 的用法如下所示：

    var result = 1 + 2;

如果两个操作数都是数值，执行常规的加法计算，然后根据下列规则返回结果：

* 如果有一个操作数是 NaN，则结果是 NaN;
* 如果是 Infinity 加 Infinity ，则结果是 Infinity;
* 如果是 -Infinity 加 -Infinity ，则结果是 -Infinity;
* 如果是 Infinity 加 -Infinity ，则结果是 NaN;
* 如果是 +0 加 +0 ，则结果是 +0;
* 如果是 -0 加 -0 ，则结果是 -0;
* 如果是 +0 加 -0 , 则结果是 +0;

不过，如果<span style="color: red;font-weight: bold">有一个操作数是字符串</span>，那么就要应用如下规则：

* 如果两个操作数都是字符串，则将第二个操作数与第一个操作数拼接起来；
* 如果只有一个操作数是字符串，则将另一个操作数转换为字符串，然后再将两个字符串拼接起来。

如果有一个操作数是对象、数值或布尔值，则调用它们的 toString() 方法取得相应的字符串值，然后再应用前面关于字符串的规则。对于 undefined 和
null, 则分别调用 String() 函数并取得字符串 "undefined" 和 "null"。

下面来举几个例子：

    var result1 = 5 + 5;        // 两个数相加
    console.log(result1);       // 10
    var result2 = 5 + "5";      // 一个数值和一个字符串相加
    console.log(result2);       // "55"

以上代码演示了加法操作符在两种模式下的差别。第一行代码演示了正常的情况，即 5+5 等于 10 (数值)。但是，如果将一个操作数改为字符串 "5"，
结果就变成了 "55" (字符串值)， 因为第一个操作数也被转成了 "5"。

忽视加法操作中的数据类型是 ECMAScript 编程中最常见的一个错误。再来看一个例子：

    var num1 = 5;
    var num2 = 10;
    var message = "The sum of 5 and 10 is " + num1 + num2;
    console.log(message);   // "The sum of 5 and 10 is 510"

在这个例子中，变量 message 的值是执行两个加法操作之后的结果。有人可能以为最后得到的字符串是 "The sum of 5 and 10 is 15"，但实际的结果
却是 "The sum of 5 and 10 is 510"。之所以会这样，是因为每个加法操作数是独立执行的。第一个加法操作数将一个字符串和一个数值 (5) 拼接了
起来，结果是一个字符串。而第二个加法操作数又用这个字符串去加另一个数值 (10) ，当然也会得到一个字符串。

如果想先对数值执行算术计算，然后再将结果与字符串拼接起来，应该像下面这样使用圆括号：

    var num1 = 5;
    var num2 = 10;
    var message = "The sum of 5 and 10 is " + (num1 + num2);
    console.log(message);  // "The sum of 5 and 10 is 15"

在这个例子中，一对圆括号把两个数值变量括在了一起，这样就会告诉解析器先计算其结果，然后再将结果与字符串拼接起来。因此，就得到了结果
"The sum of 5 and 10 is 15"。

## 2 减法

减法操作符 (-) 是另一个极为常用的操作符，其用法如下所示：

    var result = 2 - 1;


